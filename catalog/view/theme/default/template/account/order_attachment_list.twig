{{ header }}
<div class="container">
  <ul class="breadcrumb">
    {% for breadcrumb in breadcrumbs %}
      <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li>
    {% endfor %}
  </ul>
  
  <div class="row">{{ column_left }}
    {% set class = 'col-sm-12' %}
    {% if column_left and column_right %}
      {% set class = 'col-sm-6' %}
    {% elseif column_left or column_right %}
      {% set class = 'col-sm-9' %}
    {% endif %}
    
    <div id="content" class="{{ class }}">{{ content_top }}
      <h1>{{ heading_title }}</h1>
      
      {% if order_info %}
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">
              <i class="fa fa-shopping-cart"></i> Pedido #{{ order_id }} - {{ order_info.firstname }} {{ order_info.lastname }}
            </h3>
          </div>
          <div class="panel-body">
            <div class="row">
              <div class="col-sm-6">
                <strong>Data do Pedido:</strong> {{ order_info.date_added|date('d/m/Y H:i') }}
              </div>
              <div class="col-sm-6">
                <strong>Status:</strong> {{ order_info.status }}
              </div>
            </div>
          </div>
        </div>
      {% endif %}

      {% if error %}
        <div class="alert alert-danger">
          <i class="fa fa-exclamation-circle"></i> {{ error }}
        </div>
      {% endif %}

      {% if attachments %}
        <div class="panel panel-default">
          <div class="panel-heading">
            <h3 class="panel-title">
              <i class="fa fa-paperclip"></i> Anexos do Pedido ({{ attachments|length }})
            </h3>
          </div>
          <div class="panel-body">
            <div class="table-responsive">
              <table class="table table-striped table-hover">
                <thead>
                  <tr>
                    <th><i class="fa fa-file-o"></i> Nome do Arquivo</th>
                    <th><i class="fa fa-calendar"></i> {{ text_date_added }}</th>
                    <th><i class="fa fa-download"></i> Ações</th>
                  </tr>
                </thead>
                <tbody>
                  {% for attachment in attachments %}
                    <tr>
                      <td>
                        <i class="fa fa-file-{% if attachment.filename|lower ends with '.pdf' %}pdf{% elseif attachment.filename|lower ends with '.doc' or attachment.filename|lower ends with '.docx' %}word{% elseif attachment.filename|lower ends with '.jpg' or attachment.filename|lower ends with '.jpeg' or attachment.filename|lower ends with '.png' or attachment.filename|lower ends with '.gif' %}image{% else %}o{% endif %}-o text-muted"></i>
                        {{ attachment.filename }}
                      </td>
                      <td>{{ attachment.date_added|date('d/m/Y H:i') }}</td>
                      <td>
                        <a href="/image/{{ attachment.path }}" 
                           target="_Blank"
                           class="btn btn-primary btn-sm" 
                           data-toggle="tooltip" 
                           title="{{ text_download }}">
                          <i class="fa fa-eye"></i> {{ button_view }}
                        </a>
                      </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      {% else %}
        {% if not error %}
          <div class="alert alert-info">
            <i class="fa fa-info-circle"></i> {{ text_no_attachments }}
          </div>
        {% endif %}
      {% endif %}

      <div class="buttons clearfix">
        <div class="pull-right">
          <a href="{{ continue }}" class="btn btn-primary">
            <i class="fa fa-arrow-left"></i> {{ text_back_to_orders }}
          </a>
        </div>
      </div>
      
      {{ content_bottom }}
    </div>
    {{ column_right }}
  </div>
</div>

<style>
.panel-heading .fa {
  margin-right: 8px;
}

.table th .fa {
  margin-right: 5px;
}

.table td .fa {
  margin-right: 8px;
}

.btn-sm .fa {
  margin-right: 5px;
}

.alert .fa {
  margin-right: 8px;
}
</style>

{{ footer }}
